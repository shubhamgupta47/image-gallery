{"version":3,"sources":["reducers/photos.js","reducers/errors.js","store/store.js","helpers/auth.js","components/Header.js","utils/constants.js","actions/errors.js","actions/photos.js","components/UploadForm.js","components/HomePage.js","components/Photo.js","components/Gallery.js","components/NotFoundPage.js","helpers/alerts.js","components/Login.js","router/PrivateRoute.js","components/Register.js","router/AppRouter.js","index.js"],"names":["initialState","photos","loading","photosReducer","state","action","type","errorsReducer","errors","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","combineReducers","gallery","applyMiddleware","thunk","getCookie","key","req","cookie","get","authenticate","response","callback","value","data","token","set","expires","localStorage","setItem","JSON","stringify","setLocalStorage","user","logout","history","remove","removeItem","removeLocalStorage","push","withRouter","className","to","onClick","BASE_API_URL","getErrors","loadPhotos","connect","dispatch","useState","photo","setPhoto","isSubmitted","setIsSubmitted","errorMsg","setErroMsg","useEffect","uploadError","Fragment","Form","onSubmit","event","preventDefault","a","formData","FormData","append","axios","post","headers","Authorization","beginAddPhoto","method","encType","Group","Label","Control","name","onChange","file","target","files","Button","variant","disabled","HomePage","userName","getItem","parse","getUserInfo","Photo","id","Card","Img","src","alt","console","error","fetchingError","length","status","map","_id","NotFoundPage","showSuccessMessage","success","showErrorMessage","email","password","buttonText","setState","handleChange","e","handleSubmit","then","res","catch","err","placeholder","PrivateRoute","Component","component","rest","render","props","message","AppRouter","basename","path","exact","Gallery","Login","Register","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.230b4964.chunk.js","sourcesContent":["const initialState = {\n  photos: [],\n  loading: true,\n};\n\nconst photosReducer = (state = initialState, action) => {\n  const { type, photos } = action;\n  switch (type) {\n    case \"LOAD_PHOTOS\":\n      return { ...state, photos, loading: false };\n    default:\n      return state;\n  }\n};\n\nexport default photosReducer;\n","const errorsReducer = (state = {}, action) => {\n  switch (action.type) {\n    case \"GET_ERRORS\":\n      return action.errors;\n    default:\n      return state;\n  }\n};\n\nexport default errorsReducer;\n","import { createStore, combineReducers, applyMiddleware, compose } from \"redux\";\nimport photosReducer from \"../reducers/photos\";\nimport errorsReducer from \"../reducers/errors\";\nimport thunk from \"redux-thunk\";\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\nconst store = createStore(\n  combineReducers({\n    gallery: photosReducer,\n    errors: errorsReducer,\n  }),\n  composeEnhancers(applyMiddleware(thunk))\n);\n\n// store.subscribe(() => {\n//   console.log(store.getState());\n// });\n\nexport default store;\n","import cookie from \"js-cookie\";\n\n// save in cookie\nexport const setCookie = (key, value) => {\n  cookie.set(key, value, {\n    expires: 1,\n  });\n};\n\n// remove from cookie\nexport const removeCookie = (key) => {\n  cookie.remove(key);\n};\n\n// get from cookie\nexport const getCookie = (key, req) => {\n  return cookie.get(key);\n};\n\n// save in localStorage\nexport const setLocalStorage = (key, value) => {\n  localStorage.setItem(key, JSON.stringify(value));\n};\n\n// remove from localStorage\nexport const removeLocalStorage = (key) => {\n  localStorage.removeItem(key);\n};\n\n// authenticate user by passing data to cookie and localStorage during signin\nexport const authenticate = (response, callback) => {\n  setCookie(\"token\", response.data.token);\n  setLocalStorage(\"user\", response.data.user);\n  callback();\n};\n\n// access user info from localStorage\nexport const getUserInfo = () => {\n  const cookieChecked = getCookie(\"token\");\n  if (cookieChecked) {\n    if (localStorage.getItem(\"user\")) {\n      return JSON.parse(localStorage.getItem(\"user\"));\n    }\n  }\n};\n\n// logout\nexport const logout = (history) => {\n  removeCookie(\"token\");\n  removeLocalStorage(\"user\");\n  history.push(\"/login\");\n};\n","import React from \"react\";\nimport { NavLink, withRouter } from \"react-router-dom\";\nimport { getCookie, logout } from \"../helpers/auth\";\n\nconst Header = ({ history }) => (\n  <header>\n    <h1>PhotoGalleryApp</h1>\n    <div className=\"links\">\n      {getCookie(\"token\") ? (\n        <>\n          {\" \"}\n          <NavLink to=\"/\" className=\"link\">\n            Home\n          </NavLink>\n          <NavLink to=\"/gallery\" className=\"link\">\n            Gallery\n          </NavLink>\n          <NavLink\n            to=\"/gallery\"\n            onClick={() => logout(history)}\n            className=\"link\"\n          >\n            Logout\n          </NavLink>\n        </>\n      ) : (\n        <>\n          <NavLink to=\"/login\" className=\"link\">\n            Login\n          </NavLink>\n          <NavLink to=\"/register\" className=\"link\">\n            Register\n          </NavLink>\n        </>\n      )}\n    </div>\n  </header>\n);\n\nexport default withRouter(Header);\n","// export const BASE_API_URL = \"http://localhost:3300\";\nexport const BASE_API_URL =\n  \"https://shubhamgupta47-image-gallery-api.glitch.me\";\n","export const getErrors = (errors) => ({\n  type: \"GET_ERRORS\",\n  errors,\n});\n","import axios from \"axios\";\nimport { getCookie } from \"../helpers/auth\";\nimport { BASE_API_URL } from \"../utils/constants\";\nimport { getErrors } from \"./errors\";\n\nexport const beginAddPhoto = (photo) => {\n  return async (dispatch) => {\n    try {\n      const formData = new FormData();\n      formData.append(\"photo\", photo);\n      await axios.post(`${BASE_API_URL}/photos`, formData, {\n        headers: {\n          \"Content-Type\": \"multipart/form-data\",\n          Authorization: `Bearer ${getCookie(\"token\")}`,\n        },\n      });\n    } catch (error) {\n      error.response && dispatch(getErrors({ uploadError: error.response }));\n    }\n  };\n};\n\nexport const startLoadPhotos = () => {\n  return async (dispatch) => {\n    try {\n      const photos = await axios.get(`${BASE_API_URL}/photos`, {\n        headers: {\n          Authorization: `Bearer ${getCookie(\"token\")}`,\n        },\n      });\n      dispatch(loadPhotos(photos.data));\n    } catch (error) {\n      console.error(error);\n      error.response && dispatch(getErrors({ fetchingError: error.response }));\n    }\n  };\n};\n\nexport const loadPhotos = (photos) => ({\n  type: \"LOAD_PHOTOS\",\n  photos,\n});\n","import React, { useState, useEffect } from \"react\";\nimport { connect } from \"react-redux\";\nimport { Form, Button } from \"react-bootstrap\";\nimport { beginAddPhoto } from \"../actions/photos\";\n\nconst UploadForm = ({ errors, dispatch }) => {\n  const [photo, setPhoto] = useState(null);\n  const [isSubmitted, setIsSubmitted] = useState(false);\n  const [errorMsg, setErroMsg] = useState(null);\n\n  useEffect(() => {\n    setErroMsg(\"Upload failed. Please try again.\");\n  }, [errors.uploadError]);\n\n  useEffect(() => {\n    setErroMsg(\"\"); // reset error message on page load\n  }, []);\n\n  const handleOnChange = (event) => {\n    const file = event.target.files[0];\n    setPhoto(file);\n  };\n\n  const handleFormSubmit = (event) => {\n    event.preventDefault();\n    if (photo) {\n      setErroMsg(\"\");\n      dispatch(beginAddPhoto(photo));\n      setIsSubmitted(true);\n    }\n  };\n\n  return (\n    <React.Fragment>\n      {errorMsg ? (\n        <p className=\"errorMsg centered-message\">{errorMsg}</p>\n      ) : (\n        isSubmitted && (\n          <p className=\"successMsg centered-message\">\n            Photo uploaded successfully.\n          </p>\n        )\n      )}\n      <Form\n        onSubmit={handleFormSubmit}\n        method=\"post\"\n        encType=\"multipart/form-data\"\n        className=\"upload-form\"\n      >\n        <Form.Group>\n          <Form.Label>Choose photo to upload</Form.Label>\n          <Form.Control type=\"file\" name=\"photo\" onChange={handleOnChange} />\n        </Form.Group>\n        <Button\n          variant=\"primary\"\n          type=\"submit\"\n          className={`${!photo ? \"disabled submit-btn\" : \"submit-btn\"}`}\n          disabled={photo ? false : true}\n        >\n          Upload\n        </Button>\n      </Form>\n    </React.Fragment>\n  );\n};\n\nconst mapStateToProps = (state) => ({\n  photos: state.photos || [],\n  errors: state.errors || {},\n});\n\nexport default connect(mapStateToProps)(UploadForm);\n","import React from \"react\";\nimport { getUserInfo } from \"../helpers/auth\";\nimport UploadForm from \"./UploadForm\";\n\nconst HomePage = () => {\n  const userName = getUserInfo().name;\n  return (\n    <div className=\"home-page\">\n      Welcome {userName}\n      <UploadForm />\n    </div>\n  );\n};\n\nexport default HomePage;\n","import React from \"react\";\nimport { Card } from \"react-bootstrap\";\nimport { BASE_API_URL } from \"../utils/constants\";\n\nconst Photo = ({ id }) => {\n  return (\n    <Card className=\"photo\">\n      <Card.Img\n        variant=\"top\"\n        src={`${BASE_API_URL}/photos/${id}`}\n        alt=\"Photo\"\n      />\n    </Card>\n  );\n};\n\nexport default Photo;\n","/* eslint-disable react-hooks/exhaustive-deps */\n\nimport React, { useEffect } from \"react\";\nimport { connect } from \"react-redux\";\nimport { startLoadPhotos } from \"../actions/photos\";\nimport Photo from \"./Photo\";\n\nconst Gallery = ({ errors, photos, loading, dispatch }) => {\n  useEffect(() => {\n    dispatch(startLoadPhotos());\n  }, []);\n\n  return (\n    <div className=\"photos-list\">\n      {/* Show Error */}\n      {errors && errors.fetchingError && !photos.length && (\n        <p className=\"errorMsg centered-message\">\n          Something doesn't seem right. Please try later.\n          <span>({errors.fetchingError.status})</span>\n        </p>\n      )}\n      {/* If still loading... */}\n      {loading && !errors.fetchingError && (\n        <div className=\"loading-msg centered-message\">Loading...</div>\n      )}\n      {/* If not loading, and either data or no data */}\n      {!loading && !photos.length ? (\n        <div className=\"alert alert-secondary\">No photo available. </div>\n      ) : (\n        photos.map((photo) => <Photo key={photo._id} id={photo._id} />)\n      )}\n    </div>\n  );\n};\n\nconst mapStateToProps = (state) => {\n  return {\n    photos: state.gallery.photos || [],\n    loading: state.gallery.loading,\n    errors: state.errors || {},\n  };\n};\n\nexport default connect(mapStateToProps)(Gallery);\n","import React from \"react\";\n\nconst NotFoundPage = () => (\n  <div>\n    <h3>\n      Sorry, this page does not exist. Please use the links in navigation bar.\n    </h3>\n  </div>\n);\n\nexport default NotFoundPage;\n","export const showSuccessMessage = (success) => (\n  <div className=\"alert alert-success\">{success}</div>\n);\n\nexport const showErrorMessage = (error) => (\n  <div className=\"alert alert-danger\">{error}</div>\n);\n","import { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { withRouter } from \"react-router-dom\";\n// Relative imports\nimport { showErrorMessage, showSuccessMessage } from \"../helpers/alerts\";\nimport { BASE_API_URL } from \"../utils/constants\";\nimport { authenticate, getCookie } from \"../helpers/auth\";\n\nconst Login = ({ history }) => {\n  const [state, setState] = useState({\n    email: \"\",\n    password: \"\",\n    error: \"\",\n    success: \"\",\n    buttonText: \"Login\",\n  });\n\n  useEffect(() => {\n    if (getCookie(\"token\")) {\n      history.push(\"/\");\n    }\n    // eslint-disable-next-line\n  }, []);\n\n  const { email, password, error, success, buttonText } = state;\n\n  const handleChange = () => (e) => {\n    const { target } = e;\n    setState({\n      ...state,\n      [target.name]: target.value,\n      error: \"\",\n      success: \"\",\n      buttonText: \"Login\",\n    });\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    setState({ ...state, buttonText: \"Logging in...\" });\n    axios\n      .post(`${BASE_API_URL}/login`, {\n        email,\n        password,\n      })\n      .then((res) => {\n        authenticate(res, () => {\n          history.push(\"/\");\n        });\n      })\n      .catch((err) => {\n        setState({\n          ...state,\n          error: err.response.data.error,\n          buttonText: \"Login\",\n        });\n      });\n    //\n  };\n\n  const loginForm = () => (\n    <form onSubmit={handleSubmit}>\n      <div className=\"form-group\">\n        <input\n          value={email}\n          onChange={handleChange()}\n          type=\"email\"\n          name=\"email\"\n          className=\"form-control\"\n          placeholder=\"Type Email\"\n        />\n      </div>\n      <div className=\"form-group\">\n        <input\n          value={password}\n          onChange={handleChange()}\n          type=\"password\"\n          name=\"password\"\n          className=\"form-control\"\n          placeholder=\"Enter password here\"\n        />\n      </div>\n      <hr />\n      <div className=\"form-group\">\n        <button className=\"btn btn-light\">{buttonText}</button>\n      </div>\n    </form>\n  );\n\n  return (\n    <div className=\"col-md-6 offset-md-3\">\n      <h1 className=\"mb-4\">Login</h1>\n      <br />\n      {success && showSuccessMessage(success)}\n      {error && showErrorMessage(error)}\n      {loginForm()}\n    </div>\n  );\n};\n\nexport default withRouter(Login);\n","import React from \"react\";\nimport { Route, Redirect } from \"react-router\";\nimport { getCookie } from \"../helpers/auth\";\n\nconst PrivateRoute = ({ component: Component, ...rest }) => {\n  return (\n    <Route\n      {...rest}\n      render={(props) =>\n        getCookie(\"token\") ? <Component {...props} /> : <Redirect to=\"/login\" />\n      }\n    />\n  );\n};\n\nexport default PrivateRoute;\n","import { useState } from \"react\";\nimport axios from \"axios\";\nimport { showErrorMessage, showSuccessMessage } from \"../helpers/alerts\";\nimport { withRouter, Link } from \"react-router-dom\";\nimport { BASE_API_URL } from \"../utils/constants\";\n\nconst Register = () => {\n  const [state, setState] = useState({\n    name: \"\",\n    email: \"\",\n    password: \"\",\n    error: \"\",\n    success: \"\",\n    buttonText: \"Register\",\n  });\n\n  const { name, email, password, error, success, buttonText } = state;\n\n  const handleChange = () => (e) => {\n    const { target } = e;\n    setState({\n      ...state,\n      [target.name]: target.value,\n      error: \"\",\n      success: \"\",\n      buttonText: \"Register\",\n    });\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    setState({ ...state, buttonText: \"Registering\" });\n    axios\n      .post(`${BASE_API_URL}/register`, {\n        name,\n        email,\n        password,\n      })\n      .then((res) => {\n        setState({\n          ...state,\n          name: \"\",\n          email: \"\",\n          password: \"\",\n          error: \"\",\n          success: res.data.message,\n          buttonText: \"Submitted\",\n        });\n      })\n      .catch((err) => {\n        setState({\n          ...state,\n          error: err.response.data.error,\n          buttonText: \"Register\",\n        });\n      });\n    //\n  };\n\n  const registrationForm = () => (\n    <form onSubmit={handleSubmit}>\n      <div className=\"form-group\">\n        <input\n          value={name}\n          onChange={handleChange()}\n          type=\"text\"\n          name=\"name\"\n          className=\"form-control\"\n          placeholder=\"Type your name\"\n        />\n      </div>\n      <div className=\"form-group\">\n        <input\n          value={email}\n          onChange={handleChange()}\n          type=\"email\"\n          name=\"email\"\n          className=\"form-control\"\n          placeholder=\"Type Email\"\n        />\n      </div>\n      <div className=\"form-group\">\n        <input\n          value={password}\n          onChange={handleChange()}\n          type=\"password\"\n          name=\"password\"\n          className=\"form-control\"\n          placeholder=\"Enter password here\"\n        />\n      </div>\n      <hr />\n      <div className=\"form-group\">\n        <button className=\"btn btn-light\">{buttonText}</button>\n      </div>\n    </form>\n  );\n\n  return (\n    <div className=\"col-md-6 offset-md-3\">\n      <h1 className=\"mb-4\">Register</h1>\n      <br />\n      {error && showErrorMessage(error)}\n      {registrationForm()}\n\n      {success && (\n        <>\n          {\" \"}\n          {showSuccessMessage(success)}\n          <Link className=\"btn btn-light mb-4 col-md-12\" to=\"/login\">\n            Go to Login\n          </Link>\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default withRouter(Register);\n","import React from \"react\";\nimport { HashRouter, Route, Switch } from \"react-router-dom\";\nimport Header from \"../components/Header\";\nimport HomePage from \"../components/HomePage\";\nimport Gallery from \"../components/Gallery\";\nimport NotFoundPage from \"../components/NotFoundPage\";\nimport Login from \"../components/Login\";\nimport PrivateRoute from \"./PrivateRoute\";\nimport Register from \"../components/Register\";\n\nconst AppRouter = () => (\n  <HashRouter basename=\"/\">\n    <div>\n      <Header />\n      <div className=\"main-content\">\n        <Switch>\n          <PrivateRoute component={HomePage} path=\"/\" exact={true} />\n          <PrivateRoute component={Gallery} path=\"/gallery\" />\n          <Route component={Login} path=\"/login\" />\n          <Route component={Register} path=\"/register\" />\n          <Route component={NotFoundPage} />\n        </Switch>\n      </div>\n    </div>\n  </HashRouter>\n);\n\nexport default AppRouter;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Provider } from \"react-redux\";\nimport store from \"./store/store\";\nimport AppRouter from \"./router/AppRouter\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"./styles.scss\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <AppRouter />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}