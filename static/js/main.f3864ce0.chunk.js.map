{"version":3,"sources":["reducers/photos.js","reducers/errors.js","reducers/upload.js","store/store.js","helpers/auth.js","components/Header.js","utils/constants.js","actions/errors.js","actions/photos.js","components/UploadForm.js","components/HomePage.js","components/Photo.js","components/Gallery.js","components/NotFoundPage.js","helpers/alerts.js","components/Login.js","router/PrivateRoute.js","components/Register.js","router/AppRouter.js","index.js"],"names":["initialState","photos","loading","photosReducer","state","action","type","errorsReducer","errors","uploadReducer","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","combineReducers","gallery","uploadSuccess","applyMiddleware","thunk","getCookie","key","req","cookie","get","authenticate","response","callback","value","data","token","set","expires","localStorage","setItem","JSON","stringify","setLocalStorage","user","logout","history","remove","removeItem","removeLocalStorage","push","withRouter","className","to","onClick","BASE_API_URL","getErrors","loadPhotos","uploadPhotoSuccess","connect","dispatch","useState","photo","setPhoto","errorMsg","setErroMsg","uploading","setUploading","useEffect","uploadError","Fragment","Form","onSubmit","event","preventDefault","a","formData","FormData","append","axios","post","headers","Authorization","beginAddPhoto","method","encType","Group","Label","Control","name","onChange","file","target","files","Button","variant","disabled","HomePage","userName","getItem","parse","getUserInfo","Photo","id","Card","Img","src","alt","console","error","fetchingError","length","status","map","_id","NotFoundPage","showSuccessMessage","success","showErrorMessage","email","password","buttonText","setState","handleChange","e","handleSubmit","then","res","catch","err","placeholder","PrivateRoute","Component","component","rest","render","props","message","AppRouter","basename","path","exact","Gallery","Login","Register","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.f3864ce0.chunk.js","sourcesContent":["const initialState = {\n  photos: [],\n  loading: true,\n};\n\nconst photosReducer = (state = initialState, action) => {\n  const { type, photos } = action;\n  switch (type) {\n    case \"LOAD_PHOTOS\":\n      return { ...state, photos, loading: false };\n    default:\n      return state;\n  }\n};\n\nexport default photosReducer;\n","const errorsReducer = (state = {}, action) => {\n  switch (action.type) {\n    case \"GET_ERRORS\":\n      return action.errors;\n    default:\n      return state;\n  }\n};\n\nexport default errorsReducer;\n","const uploadReducer = (state = false, action) => {\n  const { type } = action;\n  switch (type) {\n    case \"UPLOAD_PHOTOS_SUCCESS\":\n      return true;\n    default:\n      return state;\n  }\n};\n\nexport default uploadReducer;\n","import { createStore, combineReducers, applyMiddleware, compose } from \"redux\";\nimport photosReducer from \"../reducers/photos\";\nimport errorsReducer from \"../reducers/errors\";\nimport uploadReducer from \"../reducers/upload\";\nimport thunk from \"redux-thunk\";\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\nconst store = createStore(\n  combineReducers({\n    gallery: photosReducer,\n    errors: errorsReducer,\n    uploadSuccess: uploadReducer,\n  }),\n  composeEnhancers(applyMiddleware(thunk))\n);\n\n// store.subscribe(() => {\n//   console.log(store.getState());\n// });\n\nexport default store;\n","import cookie from \"js-cookie\";\n\n// save in cookie\nexport const setCookie = (key, value) => {\n  cookie.set(key, value, {\n    expires: 1,\n  });\n};\n\n// remove from cookie\nexport const removeCookie = (key) => {\n  cookie.remove(key);\n};\n\n// get from cookie\nexport const getCookie = (key, req) => {\n  return cookie.get(key);\n};\n\n// save in localStorage\nexport const setLocalStorage = (key, value) => {\n  localStorage.setItem(key, JSON.stringify(value));\n};\n\n// remove from localStorage\nexport const removeLocalStorage = (key) => {\n  localStorage.removeItem(key);\n};\n\n// authenticate user by passing data to cookie and localStorage during signin\nexport const authenticate = (response, callback) => {\n  setCookie(\"token\", response.data.token);\n  setLocalStorage(\"user\", response.data.user);\n  callback();\n};\n\n// access user info from localStorage\nexport const getUserInfo = () => {\n  const cookieChecked = getCookie(\"token\");\n  if (cookieChecked) {\n    if (localStorage.getItem(\"user\")) {\n      return JSON.parse(localStorage.getItem(\"user\"));\n    }\n  }\n};\n\n// logout\nexport const logout = (history) => {\n  removeCookie(\"token\");\n  removeLocalStorage(\"user\");\n  history.push(\"/login\");\n};\n","import React from \"react\";\nimport { NavLink, withRouter } from \"react-router-dom\";\nimport { getCookie, logout } from \"../helpers/auth\";\n\nconst Header = ({ history }) => (\n  <header>\n    <h1>PhotoGalleryApp</h1>\n    <div className=\"links\">\n      {getCookie(\"token\") ? (\n        <>\n          {\" \"}\n          <NavLink to=\"/\" className=\"link\">\n            Home\n          </NavLink>\n          <NavLink to=\"/gallery\" className=\"link\">\n            Gallery\n          </NavLink>\n          <NavLink\n            to=\"/gallery\"\n            onClick={() => logout(history)}\n            className=\"link\"\n          >\n            Logout\n          </NavLink>\n        </>\n      ) : (\n        <>\n          <NavLink to=\"/login\" className=\"link\">\n            Login\n          </NavLink>\n          <NavLink to=\"/register\" className=\"link\">\n            Register\n          </NavLink>\n        </>\n      )}\n    </div>\n  </header>\n);\n\nexport default withRouter(Header);\n","// export const BASE_API_URL = \"http://localhost:3300\";\nexport const BASE_API_URL =\n  \"https://shubhamgupta47-image-gallery-api.glitch.me\";\n","export const getErrors = (errors) => ({\n  type: \"GET_ERRORS\",\n  errors,\n});\n","import axios from \"axios\";\nimport { getCookie } from \"../helpers/auth\";\nimport { BASE_API_URL } from \"../utils/constants\";\nimport { getErrors } from \"./errors\";\n\nexport const beginAddPhoto = (photo) => {\n  return async (dispatch) => {\n    try {\n      const formData = new FormData();\n      formData.append(\"photo\", photo);\n      await axios.post(`${BASE_API_URL}/photos`, formData, {\n        headers: {\n          \"Content-Type\": \"multipart/form-data\",\n          Authorization: `Bearer ${getCookie(\"token\")}`,\n        },\n      });\n      dispatch(uploadPhotoSuccess());\n    } catch (error) {\n      error.response && dispatch(getErrors({ uploadError: error.response }));\n    }\n  };\n};\n\nexport const startLoadPhotos = () => {\n  return async (dispatch) => {\n    try {\n      const photos = await axios.get(`${BASE_API_URL}/photos`, {\n        headers: {\n          Authorization: `Bearer ${getCookie(\"token\")}`,\n        },\n      });\n      dispatch(loadPhotos(photos.data));\n    } catch (error) {\n      console.error(error);\n      error.response && dispatch(getErrors({ fetchingError: error.response }));\n    }\n  };\n};\n\nexport const loadPhotos = (photos) => ({\n  type: \"LOAD_PHOTOS\",\n  photos,\n});\n\nexport const uploadPhotoSuccess = () => ({\n  type: \"UPLOAD_PHOTOS_SUCCESS\",\n});\n","import React, { useState, useEffect } from \"react\";\nimport { connect } from \"react-redux\";\nimport { Form, Button } from \"react-bootstrap\";\nimport { beginAddPhoto } from \"../actions/photos\";\n\nconst UploadForm = ({ errors, dispatch, uploadSuccess }) => {\n  const [photo, setPhoto] = useState(null);\n  const [errorMsg, setErroMsg] = useState(null);\n  const [uploading, setUploading] = useState(false);\n\n  useEffect(() => {\n    setErroMsg(\"Upload failed. Please try again.\");\n  }, [errors.uploadError]);\n\n  useEffect(() => {\n    setErroMsg(\"\"); // reset error message on page load\n  }, []);\n\n  useEffect(() => {\n    uploadSuccess && setUploading(false);\n  }, [uploadSuccess]);\n\n  const handleOnChange = (event) => {\n    const file = event.target.files[0];\n    setPhoto(file);\n  };\n\n  const handleFormSubmit = (event) => {\n    event.preventDefault();\n    if (photo) {\n      setErroMsg(\"\");\n      setUploading(true);\n      dispatch(beginAddPhoto(photo));\n    }\n  };\n\n  return (\n    <React.Fragment>\n      {uploading && !errorMsg && (\n        <div className=\"alert alert-secondary\">Uploading... </div>\n      )}\n      {errorMsg ? (\n        <p className=\"errorMsg centered-message\">{errorMsg}</p>\n      ) : (\n        uploadSuccess &&\n        !uploading && (\n          <p className=\"successMsg centered-message\">\n            Photo uploaded successfully.\n          </p>\n        )\n      )}\n      <Form\n        onSubmit={handleFormSubmit}\n        method=\"post\"\n        encType=\"multipart/form-data\"\n        className=\"upload-form\"\n      >\n        <Form.Group>\n          <Form.Label>Choose photo to upload</Form.Label>\n          <Form.Control type=\"file\" name=\"photo\" onChange={handleOnChange} />\n        </Form.Group>\n        <Button\n          variant=\"primary\"\n          type=\"submit\"\n          className={`${!photo ? \"disabled submit-btn\" : \"submit-btn\"}`}\n          disabled={photo ? false : true}\n        >\n          Upload\n        </Button>\n      </Form>\n    </React.Fragment>\n  );\n};\n\nconst mapStateToProps = (state) => ({\n  photos: state.photos || [],\n  errors: state.errors || {},\n  uploadSuccess: state.uploadSuccess,\n});\n\nexport default connect(mapStateToProps)(UploadForm);\n","import React from \"react\";\nimport { getUserInfo } from \"../helpers/auth\";\nimport UploadForm from \"./UploadForm\";\n\nconst HomePage = () => {\n  const userName = getUserInfo().name;\n  return (\n    <div className=\"home-page\">\n      Welcome {userName}\n      <UploadForm />\n    </div>\n  );\n};\n\nexport default HomePage;\n","import React from \"react\";\nimport { Card } from \"react-bootstrap\";\nimport { BASE_API_URL } from \"../utils/constants\";\n\nconst Photo = ({ id }) => {\n  return (\n    <Card className=\"photo\">\n      <Card.Img\n        variant=\"top\"\n        src={`${BASE_API_URL}/photos/${id}`}\n        alt=\"Photo\"\n      />\n    </Card>\n  );\n};\n\nexport default Photo;\n","/* eslint-disable react-hooks/exhaustive-deps */\n\nimport React, { useEffect } from \"react\";\nimport { connect } from \"react-redux\";\nimport { startLoadPhotos } from \"../actions/photos\";\nimport Photo from \"./Photo\";\n\nconst Gallery = ({ errors, photos, loading, dispatch }) => {\n  useEffect(() => {\n    dispatch(startLoadPhotos());\n  }, []);\n\n  return (\n    <div className=\"photos-list\">\n      {/* Show Error */}\n      {errors && errors.fetchingError && !photos.length && (\n        <p className=\"errorMsg centered-message\">\n          Something doesn't seem right. Please try later.\n          <span>({errors.fetchingError.status})</span>\n        </p>\n      )}\n      {/* If still loading... */}\n      {loading && !errors.fetchingError && (\n        <div className=\"loading-msg centered-message\">Loading...</div>\n      )}\n      {/* If not loading, and no data */}\n      {!loading && !photos.length && (\n        <div className=\"alert alert-secondary\">No photo available. </div>\n      )}\n      {!loading &&\n        !!photos.length &&\n        photos.map((photo) => <Photo key={photo._id} id={photo._id} />)}\n    </div>\n  );\n};\n\nconst mapStateToProps = (state) => {\n  return {\n    photos: state.gallery.photos || [],\n    loading: state.gallery.loading,\n    errors: state.errors || {},\n  };\n};\n\nexport default connect(mapStateToProps)(Gallery);\n","import React from \"react\";\n\nconst NotFoundPage = () => (\n  <div>\n    <h3>\n      Sorry, this page does not exist. Please use the links in navigation bar.\n    </h3>\n  </div>\n);\n\nexport default NotFoundPage;\n","export const showSuccessMessage = (success) => (\n  <div className=\"alert alert-success\">{success}</div>\n);\n\nexport const showErrorMessage = (error) => (\n  <div className=\"alert alert-danger\">{error}</div>\n);\n","import { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { withRouter } from \"react-router-dom\";\n// Relative imports\nimport { showErrorMessage, showSuccessMessage } from \"../helpers/alerts\";\nimport { BASE_API_URL } from \"../utils/constants\";\nimport { authenticate, getCookie } from \"../helpers/auth\";\n\nconst Login = ({ history }) => {\n  const [state, setState] = useState({\n    email: \"\",\n    password: \"\",\n    error: \"\",\n    success: \"\",\n    buttonText: \"Login\",\n  });\n\n  useEffect(() => {\n    if (getCookie(\"token\")) {\n      history.push(\"/\");\n    }\n    // eslint-disable-next-line\n  }, []);\n\n  const { email, password, error, success, buttonText } = state;\n\n  const handleChange = () => (e) => {\n    const { target } = e;\n    setState({\n      ...state,\n      [target.name]: target.value,\n      error: \"\",\n      success: \"\",\n      buttonText: \"Login\",\n    });\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    setState({ ...state, buttonText: \"Logging in...\" });\n    axios\n      .post(`${BASE_API_URL}/login`, {\n        email,\n        password,\n      })\n      .then((res) => {\n        authenticate(res, () => {\n          history.push(\"/\");\n        });\n      })\n      .catch((err) => {\n        setState({\n          ...state,\n          error: err.response.data.error,\n          buttonText: \"Login\",\n        });\n      });\n    //\n  };\n\n  const loginForm = () => (\n    <form onSubmit={handleSubmit}>\n      <div className=\"form-group\">\n        <input\n          value={email}\n          onChange={handleChange()}\n          type=\"email\"\n          name=\"email\"\n          className=\"form-control\"\n          placeholder=\"Type Email\"\n        />\n      </div>\n      <div className=\"form-group\">\n        <input\n          value={password}\n          onChange={handleChange()}\n          type=\"password\"\n          name=\"password\"\n          className=\"form-control\"\n          placeholder=\"Enter password here\"\n        />\n      </div>\n      <hr />\n      <div className=\"form-group\">\n        <button className=\"btn btn-light\">{buttonText}</button>\n      </div>\n    </form>\n  );\n\n  return (\n    <div className=\"col-md-6 offset-md-3\">\n      <h1 className=\"mb-4\">Login</h1>\n      <br />\n      {success && showSuccessMessage(success)}\n      {error && showErrorMessage(error)}\n      {loginForm()}\n    </div>\n  );\n};\n\nexport default withRouter(Login);\n","import React from \"react\";\nimport { Route, Redirect } from \"react-router\";\nimport { getCookie } from \"../helpers/auth\";\n\nconst PrivateRoute = ({ component: Component, ...rest }) => {\n  return (\n    <Route\n      {...rest}\n      render={(props) =>\n        getCookie(\"token\") ? <Component {...props} /> : <Redirect to=\"/login\" />\n      }\n    />\n  );\n};\n\nexport default PrivateRoute;\n","import { useState } from \"react\";\nimport axios from \"axios\";\nimport { showErrorMessage, showSuccessMessage } from \"../helpers/alerts\";\nimport { withRouter, Link } from \"react-router-dom\";\nimport { BASE_API_URL } from \"../utils/constants\";\n\nconst Register = () => {\n  const [state, setState] = useState({\n    name: \"\",\n    email: \"\",\n    password: \"\",\n    error: \"\",\n    success: \"\",\n    buttonText: \"Register\",\n  });\n\n  const { name, email, password, error, success, buttonText } = state;\n\n  const handleChange = () => (e) => {\n    const { target } = e;\n    setState({\n      ...state,\n      [target.name]: target.value,\n      error: \"\",\n      success: \"\",\n      buttonText: \"Register\",\n    });\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    setState({ ...state, buttonText: \"Registering\" });\n    axios\n      .post(`${BASE_API_URL}/register`, {\n        name,\n        email,\n        password,\n      })\n      .then((res) => {\n        setState({\n          ...state,\n          name: \"\",\n          email: \"\",\n          password: \"\",\n          error: \"\",\n          success: res.data.message,\n          buttonText: \"Submitted\",\n        });\n      })\n      .catch((err) => {\n        setState({\n          ...state,\n          error: err.response.data.error,\n          buttonText: \"Register\",\n        });\n      });\n    //\n  };\n\n  const registrationForm = () => (\n    <form onSubmit={handleSubmit}>\n      <div className=\"form-group\">\n        <input\n          value={name}\n          onChange={handleChange()}\n          type=\"text\"\n          name=\"name\"\n          className=\"form-control\"\n          placeholder=\"Type your name\"\n        />\n      </div>\n      <div className=\"form-group\">\n        <input\n          value={email}\n          onChange={handleChange()}\n          type=\"email\"\n          name=\"email\"\n          className=\"form-control\"\n          placeholder=\"Type Email\"\n        />\n      </div>\n      <div className=\"form-group\">\n        <input\n          value={password}\n          onChange={handleChange()}\n          type=\"password\"\n          name=\"password\"\n          className=\"form-control\"\n          placeholder=\"Enter password here\"\n        />\n      </div>\n      <hr />\n      <div className=\"form-group\">\n        <button className=\"btn btn-light\">{buttonText}</button>\n      </div>\n    </form>\n  );\n\n  return (\n    <div className=\"col-md-6 offset-md-3\">\n      <h1 className=\"mb-4\">Register</h1>\n      <br />\n      {error && showErrorMessage(error)}\n      {registrationForm()}\n\n      {success && (\n        <>\n          {\" \"}\n          {showSuccessMessage(success)}\n          <Link className=\"btn btn-light mb-4 col-md-12\" to=\"/login\">\n            Go to Login\n          </Link>\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default withRouter(Register);\n","import React from \"react\";\nimport { HashRouter, Route, Switch } from \"react-router-dom\";\nimport Header from \"../components/Header\";\nimport HomePage from \"../components/HomePage\";\nimport Gallery from \"../components/Gallery\";\nimport NotFoundPage from \"../components/NotFoundPage\";\nimport Login from \"../components/Login\";\nimport PrivateRoute from \"./PrivateRoute\";\nimport Register from \"../components/Register\";\n\nconst AppRouter = () => (\n  <HashRouter basename=\"/\">\n    <div>\n      <Header />\n      <div className=\"main-content\">\n        <Switch>\n          <PrivateRoute component={HomePage} path=\"/\" exact={true} />\n          <PrivateRoute component={Gallery} path=\"/gallery\" />\n          <Route component={Login} path=\"/login\" />\n          <Route component={Register} path=\"/register\" />\n          <Route component={NotFoundPage} />\n        </Switch>\n      </div>\n    </div>\n  </HashRouter>\n);\n\nexport default AppRouter;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Provider } from \"react-redux\";\nimport store from \"./store/store\";\nimport AppRouter from \"./router/AppRouter\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"./styles.scss\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <AppRouter />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}